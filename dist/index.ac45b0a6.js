const e=document.getElementById("map"),t=document.querySelector(".ipAddress"),o=document.querySelector(".location"),n=document.querySelector(".timezone"),a=document.querySelector(".isp"),i=document.querySelector("input"),r=document.querySelector(".send"),c=document.querySelector(".ip--container"),s=document.querySelector(".location--container"),d=document.querySelector(".timezone--container"),l=document.querySelector(".isp--container");let u,m,p="Your current locationðŸ“Œ";const y=/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}){1}|((([0-9A-Fa-f]{1,4}:){5}:)(:[0-9A-Fa-f]{1,4}){1,2})|((([0-9A-Fa-f]{1,4}:){4}:)(:[0-9A-Fa-f]{1,4}){1,3})|((([0-9A-Fa-f]{1,4}:){3}:)(:[0-9A-Fa-f]{1,4}){1,4})|((([0-9A-Fa-f]{1,4}:){2}:)(:[0-9A-Fa-f]{1,4}){1,5})|(([0-9A-Fa-f]{1,4}:){1}:)(:[0-9A-Fa-f]{1,4}){1,6}|(:((:[0-9A-Fa-f]{1,4}){1,7}|:))|((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){1,4})$/,g=/^(?:(?:https?|ftp):\/\/)?(?:www\.)?[a-z0-9-]+(?:\.[a-z]{2,}){1,}$/i,h=()=>{c.classList.add("hidden"),s.classList.add("hidden"),d.classList.add("hidden"),l.classList.add("hidden");const e=i.value;if(e)if(y.test(e))f(e,"");else{if(!g.test(e)){i.style.border="1px solid red";let e=i.value;return i.value="Please enter a valid ip address or domain name",i.style.color="red",void setTimeout((()=>{i.style.border="none",i.value=e,i.style.color="black"}),3e3)}f("",e)}};r.addEventListener("click",h),document.addEventListener("keydown",(e=>{"Enter"===e.key&&h()}));new Typed(".auto-type",{strings:["please wait...","hang tight!","almost there..."],typeSpeed:100,backSpeed:100,loop:!0});const f=async(e,i)=>{try{document.querySelector(".loading-element").classList.remove("hidden");const r=await fetch(`https://geo.ipify.org/api/v2/country,city?apiKey=at_w0JxSbeKjw3jQ3b2M2jm9q1V7MyAl${e?`&ipAddress=${e}`:""}${i?`&domain=${i}`:""}`);if(!r.ok)throw new Error("Please make sure you're connected to the internet and try again!");const y=await r.json();c.classList.remove("hidden"),s.classList.remove("hidden"),d.classList.remove("hidden"),l.classList.remove("hidden"),t.textContent=y.ip,o.textContent=`${y.location.city} ${y.location.country} ${y.location.geonameId}`,n.textContent=`UTC${y.location.timezone}`,a.textContent=y.isp,p=`${y.location.city} ${y.location.country}'s locationðŸ“Œ`,u=y.location.lat,m=y.location.lng,S(u,m)}catch(e){console.error(`Something went wrong, ${e.message}`)}finally{document.querySelector(".loading-element").classList.add("hidden")}};let w=null,A=!1;const S=(t,o)=>{A?w.setView([t,o],15):(w=L.map(e).setView([t,o],15),L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(w),A=!0),L.marker([t,o]).addTo(w).bindPopup(p).openPopup()};navigator.geolocation.getCurrentPosition((e=>{let{latitude:t,longitude:o}=e.coords;S(t,o),A||(A=!0)}),(e=>{console.log("something went wrong",e)}));
//# sourceMappingURL=index.ac45b0a6.js.map
